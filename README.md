# AlgoBot
An algorithmic trading bot that learns and adapts to new data and evolving markets. 

---


## Overview of the Analysis
Multiple automated trading strategies are evaluated to improve returns by actively trading the iShares Currency Hedge MSCI Emerging Markets ETF

--- 

## Data Preparation

Historical iShares Currency Hedge MSCI Emerging Markets ETF OHLCV data from 2015-01-15 to 2021-01-22 was obtained and read into a DataFrame. 

## Alogrithmic Trading Approach

The algorithmic trading approach was based on returns from the previous day. Trading signals were devloped using the following:
    - The close data was used to calculate the daily percent change. This column was added to the DataFrame as 'Acutal Returns'.
    - When the daily percent change >0, the signal was given a value of 1.
    - When the daily percent change < 0, the signal was given a value of 0.
    - [Trading Signals](Resources/trading_signals.png)
    
Strategy returns were calulated by multiplying the daily percent change and our signal shifted by 1. 

The algorithm's effectiveness was evaluated by plotting the alogrithm's cumulative return and the fund's actual cumulative return.

## Machine Learning Approach

Machine learning algorithms were added to evaluate and assess whether or not they could outperform the algorithmic approach.

### Data Features
   Two SMAs (simple moving averages) were added:
* *Fast SMA* - a SMA that takes the averaged closing price for a short window, initially set to 4 days. 
* *Slow SMA* - a SMA that takes the averaged closing price for a larger window, initially set to 100 days.

### Classification Signals
   The SMAs described above were used for classification:
   * When daily return was >=0, the signal was set to 1.
   * When daily return was < 0, the signal was set to -1.
   
### Data Preparation
 * StandardScaler was used to normalize the data features and train the machine learning models. 
 * Training and Testing datasets were generated by splitting the up the historical data. An initial number of months of data was used to create the training dataset. The rest of the data in the dataset was used to assess effectiveness of the models and for backtesting the performance of the machine learning models.
 
### Development and Evaluation of Machine Learning Models
- The SVC classification model was selected from the sklearn toolkit
- The model was fit to the scaled training data (X_train_scaled) and the classification labels (y_train)
- Predictions were produced using the trained model and the test data (X_test_scaled)
- The effectiveness of the SVC model was assessed using the following:
- Classification Report was used to obtain key model metrics, such as recall, precision and F1 score, using the actual labels (y_test) and the model predictions
- Backtesting was used to calculate the cumulative return of the model strategy. These were plotted and compared with the fund's actual cumulative returns
   
### Tuning / Optimization

* To optimize the effectiveness of the machine learning models, a few key parameters were altered and evalutated:

- Training Dataset Size: Machine learning models were trained using the earliest 3, 6 and 12 months of iShares Currency Hedged MSCI Emerging Markets ETF data.
- Fast SMA: the fast SMA window was calculated averaging 3 and 4 days.
- Slow SMA: the slow SMA window was calculated averaging 100 and 252 days.
- classification model: Multiple classification models were assessed:
    - SVC: Support Vector Classification from sklearn's Support Vector Machines library
    - LogisticRegression: Logistic Regression from sklearn's linear library
    - DecisionTreeClassifier: Decision Tree Classification from sklearn's tree library

## Results
--- 

### Algorithmic Trading Results
   * The simple trading algorithm of buying if the close price is equal to or greater than the prior day's close price and selling is the close price is less than the prior day close price did not perform well. The cumulative return of iShares Currency Hedged MSCI Emerging Markets ETF of was 134%, indicating that simply buying and holding the fund returned about 34%, almost 75% better than the trading algorithm.[Algorithmic Trading Results](Resources/actual_vs_signal_strategy_cum_returns.png)

### Initial SVC Model Results

* The initial SVC model with a 3 month training dataset, 4 day Fast SMA, 100 day Slow SMA, did better. The SVC model beat the funds actual cumulative return of 134% by roughly 20%.
[Initial SVC Model Results](Resources/actual_cumulative_returns_vs_SVM.png)

### Machine Learning Classifier Results
* An evaluation of a logistic regression and decision tree models did not produce results better than the actual returns of the fund.


## Summary
---
The iShares Currency Hedged MSCI Emerging Markets ETF yielded a cumulative return of 134%. The algorithmic trading approach evaluated performed much worse than the fund.

In contrast, the machine learning models evaluated in this analysis preformed much worse than the fund. Adopting a more robust approach to tuning the models could potentially yield better results for these models.



Technologies
* Pandas - A python library with advanced financial analysis tools.
* NumPy - A python library providing that provides advanced computing tools for fast operations on arrays, including mathematical, logical, shape manipulation, sorting, linear algebra, statistical operationother functions.
* Jupyter Lab - An IDE used for visualization.
* anaconda - A python framework consisting of several tools used in financial analysis, such as Pandas and Jupyter Lab.
* hvplot - A set of Python visualization tools used to create compelling, and interactive visualizations.
* sklearn - An open-source Python library offers algorithms and models for building machine models.





## Contributors


*  **Quintin Bland** <span>&nbsp;&nbsp;</span> |
<span>&nbsp;&nbsp;</span> *email:* quintinbland2@gmail.com <span>&nbsp;&nbsp;</span>|
<span>&nbsp;&nbsp;</span> <a href="https://www.linkedin.com/in/quintin-bland-a2b94310b/"><img src="https://img.shields.io/badge/-Quintin_Bland-0077B5?style=flat-square&logo=Linkedin&logoColor=white"/></a> 

---

## License

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)